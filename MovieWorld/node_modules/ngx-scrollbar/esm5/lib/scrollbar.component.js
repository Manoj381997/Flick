/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component, Inject, Input, Output, ViewChild, ChangeDetectionStrategy, EventEmitter, Renderer2, ViewEncapsulation, NgZone } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { fromEvent, of, EMPTY } from 'rxjs';
import { delay, expand, map, mergeMap, takeUntil, takeWhile, tap } from 'rxjs/operators';
var ScrollbarComponent = /** @class */ (function () {
    function ScrollbarComponent(zone, renderer, document) {
        this.zone = zone;
        this.renderer = renderer;
        this.document = document;
        this._thumbSizeY = 0;
        this._thumbSizeX = 0;
        this._trackTopMax = 0;
        this._trackLeftMax = 0;
        this._scrollLeftMax = 0;
        this._scrollTopMax = 0;
        this._naturalThumbSizeY = 0;
        this._naturalThumbSizeX = 0;
        this._currXPos = 0;
        this._currYPos = 0;
        this._minThumbSize = 20;
        this.autoUpdate = true;
        this.autoHide = false;
        this.trackX = false;
        this.trackY = true;
        this.scrollState = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ScrollbarComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.zone.runOutsideAngular(function () {
            _this.barX = _this.barXRef.nativeElement;
            _this.barY = _this.barYRef.nativeElement;
            _this.thumbX = _this.thumbXRef.nativeElement;
            _this.thumbY = _this.thumbYRef.nativeElement;
            _this.view = _this.viewRef.nativeElement;
            _this.hideNativeScrollbars();
            /** Initialize scrollbars */
            /** Initialize scrollbars */
            _this.scrollWorker(null);
            _this._scrollSub$ = fromEvent(_this.view, 'scroll').pipe(tap(function (e) { return _this.scrollWorker(e); })).subscribe();
            if (_this.trackX) {
                _this._barXSub$ = fromEvent(_this.barX, 'mousedown').pipe(tap(function (e) { return _this.barXWorker(e); })).subscribe();
                _this._thumbXSub$ = _this.startThumbXWorker();
            }
            if (_this.trackY) {
                _this._barYSub$ = fromEvent(_this.barY, 'mousedown').pipe(tap(function (e) { return _this.barYWorker(e); })).subscribe();
                _this._thumbYSub$ = _this.startThumbYWorker();
            }
        });
    };
    /**
     * @return {?}
     */
    ScrollbarComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this._scrollSub$) {
            this._scrollSub$.unsubscribe();
        }
        if (this.trackX) {
            this._barXSub$.unsubscribe();
            this._thumbXSub$.unsubscribe();
        }
        if (this.trackY) {
            this._barYSub$.unsubscribe();
            this._thumbYSub$.unsubscribe();
        }
    };
    /**
     * Scroll horizontally
     * @param to
     * @param duration
     */
    /**
     * Scroll horizontally
     * @param {?} to
     * @param {?=} duration
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollXTo = /**
     * Scroll horizontally
     * @param {?} to
     * @param {?=} duration
     * @return {?}
     */
    function (to, duration) {
        var _this = this;
        if (duration) {
            of(duration).pipe(takeWhile(function () { return duration > 0; }), expand(function (d) {
                if (d > 0) {
                    var /** @type {?} */ difference = to - _this.view.scrollLeft;
                    var /** @type {?} */ perTick = difference / d * 10;
                    _this.renderer.setProperty(_this.view, 'scrollLeft', _this.view.scrollLeft + perTick);
                    return of(d - 10).pipe(delay(10));
                }
                else {
                    duration = d;
                    return EMPTY;
                }
            })).subscribe();
        }
        else {
            this.renderer.setProperty(this.view, 'scrollLeft', to);
        }
    };
    /**
     * Scroll vertically
     * @param to
     * @param duration
     */
    /**
     * Scroll vertically
     * @param {?} to
     * @param {?=} duration
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollYTo = /**
     * Scroll vertically
     * @param {?} to
     * @param {?=} duration
     * @return {?}
     */
    function (to, duration) {
        var _this = this;
        if (duration) {
            of(duration).pipe(takeWhile(function () { return duration > 0; }), expand(function (d) {
                if (d > 0) {
                    var /** @type {?} */ difference = to - _this.view.scrollTop;
                    var /** @type {?} */ perTick = difference / d * 10;
                    _this.renderer.setProperty(_this.view, 'scrollTop', _this.view.scrollTop + perTick);
                    return of(d - 10).pipe(delay(10));
                }
                else {
                    duration = d;
                    return EMPTY;
                }
            })).subscribe();
        }
        else {
            this.renderer.setProperty(this.view, 'scrollTop', to);
        }
    };
    /**
     * Scroll view to top
     * @param duration
     */
    /**
     * Scroll view to top
     * @param {?=} duration
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollToTop = /**
     * Scroll view to top
     * @param {?=} duration
     * @return {?}
     */
    function (duration) {
        this.scrollYTo(0, duration);
    };
    /**
     * Scroll view to bottom
     * @param duration
     */
    /**
     * Scroll view to bottom
     * @param {?=} duration
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollToBottom = /**
     * Scroll view to bottom
     * @param {?=} duration
     * @return {?}
     */
    function (duration) {
        this.scrollYTo(this.view.scrollHeight, duration);
    };
    /**
     * Scroll view to max right
     * @param duration
     */
    /**
     * Scroll view to max right
     * @param {?=} duration
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollToRight = /**
     * Scroll view to max right
     * @param {?=} duration
     * @return {?}
     */
    function (duration) {
        this.scrollXTo(this.view.scrollWidth, duration);
    };
    /**
     * Scroll view to max left
     * @param duration
     */
    /**
     * Scroll view to max left
     * @param {?=} duration
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollToLeft = /**
     * Scroll view to max left
     * @param {?=} duration
     * @return {?}
     */
    function (duration) {
        this.scrollXTo(0, duration);
    };
    /**
     * Update thumbnails
     */
    /**
     * Update thumbnails
     * @return {?}
     */
    ScrollbarComponent.prototype.update = /**
     * Update thumbnails
     * @return {?}
     */
    function () {
        this.setThumbXPosition(this._currXPos, this.calculateThumbXSize());
        this.setThumbYPosition(this._currYPos, this.calculateThumbYSize());
    };
    /**
     * Scroll Worker
     * @param {?} e - Mouse Event
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollWorker = /**
     * Scroll Worker
     * @param {?} e - Mouse Event
     * @return {?}
     */
    function (e) {
        this._thumbSizeX = this.thumbX.clientWidth;
        this._thumbSizeY = this.thumbY.clientHeight;
        this._trackLeftMax = this.barX.clientWidth - this._thumbSizeX;
        this._trackTopMax = this.barY.clientHeight - this._thumbSizeY;
        var /** @type {?} */ thumbXPosition = this.view.scrollLeft * this._trackLeftMax / this._scrollLeftMax;
        var /** @type {?} */ thumbYPosition = this.view.scrollTop * this._trackTopMax / this._scrollTopMax;
        this.setThumbXPosition(thumbXPosition, this.calculateThumbXSize());
        this.setThumbYPosition(thumbYPosition, this.calculateThumbYSize());
        /** Emit scroll state */
        this.scrollState.emit(e);
    };
    /**
     * Horizontal scrollbar click worker
     * @param {?} e - Mouse Event
     * @return {?}
     */
    ScrollbarComponent.prototype.barXWorker = /**
     * Horizontal scrollbar click worker
     * @param {?} e - Mouse Event
     * @return {?}
     */
    function (e) {
        if (e.target === e.currentTarget) {
            var /** @type {?} */ offset = e.offsetX - this._naturalThumbSizeX * .5;
            var /** @type {?} */ thumbPositionPercentage = offset * 100 / this.barX.clientWidth;
            var /** @type {?} */ scrollLeft = thumbPositionPercentage * this.view.scrollWidth / 100;
            this.renderer.setProperty(this.view, 'scrollLeft', scrollLeft);
        }
    };
    /**
     * Vertical scrollbar click worker
     * @param {?} e - Mouse Event
     * @return {?}
     */
    ScrollbarComponent.prototype.barYWorker = /**
     * Vertical scrollbar click worker
     * @param {?} e - Mouse Event
     * @return {?}
     */
    function (e) {
        if (e.target === e.currentTarget) {
            var /** @type {?} */ offset = e.offsetY - this._naturalThumbSizeY * .5;
            var /** @type {?} */ thumbPositionPercentage = offset * 100 / this.barY.clientHeight;
            var /** @type {?} */ scrollTop = thumbPositionPercentage * this.view.scrollHeight / 100;
            this.renderer.setProperty(this.view, 'scrollTop', scrollTop);
        }
    };
    /**
     * Start horizontal thumb worker
     * @return {?}
     */
    ScrollbarComponent.prototype.startThumbXWorker = /**
     * Start horizontal thumb worker
     * @return {?}
     */
    function () {
        var _this = this;
        var /** @type {?} */ mousedown$ = fromEvent(this.thumbX, 'mousedown');
        var /** @type {?} */ mouseup$ = fromEvent(this.document, 'mouseup');
        var /** @type {?} */ mousemove$ = fromEvent(this.document, 'mousemove');
        return mousedown$.pipe(tap(function () { return _this.document.onselectstart = function () { return false; }; }), map(function (mousedownEvent) { return mousedownEvent.offsetX; }), mergeMap(function (mousedownOffsetX) {
            return mousemove$.pipe(takeUntil(mouseup$.pipe(tap(function () { return _this.document.onselectstart = null; }))), map(function (mousemoveEvent) { return mousemoveEvent.clientX; }), tap(function (mousemoveClientX) {
                var /** @type {?} */ offset = mousemoveClientX - _this.barX.getBoundingClientRect().left;
                var /** @type {?} */ scroll = _this._scrollLeftMax * (offset - mousedownOffsetX) / _this._trackLeftMax;
                _this.renderer.setProperty(_this.view, 'scrollLeft', scroll);
            }));
        })).subscribe();
    };
    /**
     * Start vertical thumb worker
     * @return {?}
     */
    ScrollbarComponent.prototype.startThumbYWorker = /**
     * Start vertical thumb worker
     * @return {?}
     */
    function () {
        var _this = this;
        var /** @type {?} */ mousedown$ = fromEvent(this.thumbY, 'mousedown');
        var /** @type {?} */ mouseup$ = fromEvent(this.document, 'mouseup');
        var /** @type {?} */ mousemove$ = fromEvent(this.document, 'mousemove');
        return mousedown$.pipe(tap(function () { return _this.document.onselectstart = function () { return false; }; }), map(function (mousedownEvent) { return mousedownEvent.offsetY; }), mergeMap(function (mousedownOffsetY) {
            return mousemove$.pipe(takeUntil(mouseup$.pipe(tap(function () { return _this.document.onselectstart = null; }))), map(function (mousemoveEvent) { return mousemoveEvent.clientY; }), tap(function (mousemoveClientY) {
                var /** @type {?} */ offset = mousemoveClientY - _this.barY.getBoundingClientRect().top;
                var /** @type {?} */ scroll = _this._scrollTopMax * (offset - mousedownOffsetY) / _this._trackTopMax;
                _this.renderer.setProperty(_this.view, 'scrollTop', scroll);
            }));
        })).subscribe();
    };
    /**
     * Calculate Thumb X Size
     * @return {?}
     */
    ScrollbarComponent.prototype.calculateThumbXSize = /**
     * Calculate Thumb X Size
     * @return {?}
     */
    function () {
        this._naturalThumbSizeX = this.barX.clientWidth / this.view.scrollWidth * this.barX.clientWidth;
        this._scrollLeftMax = this.view.scrollWidth - this.view.clientWidth;
        return this.scrollBoundaries(this._naturalThumbSizeX, this._scrollLeftMax);
    };
    /**
     * Calculate Thumb Y Size
     * @return {?}
     */
    ScrollbarComponent.prototype.calculateThumbYSize = /**
     * Calculate Thumb Y Size
     * @return {?}
     */
    function () {
        this._naturalThumbSizeY = this.barY.clientHeight / this.view.scrollHeight * this.barY.clientHeight;
        this._scrollTopMax = this.view.scrollHeight - this.view.clientHeight;
        return this.scrollBoundaries(this._naturalThumbSizeY, this._scrollTopMax);
    };
    /**
     * Get scrollbar thumb size
     * @param {?} naturalThumbSize
     * @param {?} scrollMax
     * @return {?}
     */
    ScrollbarComponent.prototype.scrollBoundaries = /**
     * Get scrollbar thumb size
     * @param {?} naturalThumbSize
     * @param {?} scrollMax
     * @return {?}
     */
    function (naturalThumbSize, scrollMax) {
        return (naturalThumbSize < this._minThumbSize) ? this._minThumbSize : scrollMax ? naturalThumbSize : 0;
    };
    /**
     * Set horizontal scrollbar thumb style
     * @param {?} x
     * @param {?} width
     * @return {?}
     */
    ScrollbarComponent.prototype.setThumbXPosition = /**
     * Set horizontal scrollbar thumb style
     * @param {?} x
     * @param {?} width
     * @return {?}
     */
    function (x, width) {
        var /** @type {?} */ transform = "translate3d(" + x + "px, 0, 0)";
        this.renderer.setStyle(this.thumbX, 'transform', transform);
        this.renderer.setStyle(this.thumbX, 'width', width + 'px');
        this._currXPos = x;
    };
    /**
     * Set vertical scrollbar thumb style
     * @param {?} y
     * @param {?} height
     * @return {?}
     */
    ScrollbarComponent.prototype.setThumbYPosition = /**
     * Set vertical scrollbar thumb style
     * @param {?} y
     * @param {?} height
     * @return {?}
     */
    function (y, height) {
        var /** @type {?} */ transform = "translate3d(0, " + y + "px, 0)";
        this.renderer.setStyle(this.thumbY, 'transform', transform);
        this.renderer.setStyle(this.thumbY, 'height', height + 'px');
        this._currYPos = y;
    };
    /**
     * Hide native scrollbars
     * @return {?}
     */
    ScrollbarComponent.prototype.hideNativeScrollbars = /**
     * Hide native scrollbars
     * @return {?}
     */
    function () {
        var /** @type {?} */ size = "calc(100% + " + this.getNativeScrollbarWidth() + "px)";
        this.renderer.setStyle(this.view, 'width', size);
        this.renderer.setStyle(this.view, 'height', size);
    };
    /**
     * Get the native scrollbar width
     * @return {?}
     */
    ScrollbarComponent.prototype.getNativeScrollbarWidth = /**
     * Get the native scrollbar width
     * @return {?}
     */
    function () {
        var /** @type {?} */ element = this.document.createElement('div');
        element.style.position = 'absolute';
        element.style.top = '-9999px';
        element.style.width = '100px';
        element.style.height = '100px';
        element.style.overflow = 'scroll';
        element.style.msOverflowStyle = 'scrollbar';
        this.document.body.appendChild(element);
        var /** @type {?} */ sw = element.offsetWidth - element.clientWidth;
        this.document.body.removeChild(element);
        return sw;
    };
    ScrollbarComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ng-scrollbar',
                    template: "<div class=\"ng-scrollbar-container\" [class.ng-scrollbar-autohide]=\"autoHide\">\n\n  <div #barX class=\"ng-scrollbar -horizontal {{barClass}}\" [class.ng-scrollbar-disabled]=\"!trackX\">\n    <div #thumbX class=\"ng-scrollbar-thumb {{thumbClass}}\"></div>\n  </div>\n\n  <div #barY class=\"ng-scrollbar -vertical {{barClass}}\" [class.ng-scrollbar-disabled]=\"!trackY\">\n    <div #thumbY class=\"ng-scrollbar-thumb {{thumbClass}}\"></div>\n  </div>\n\n  <div #view class=\"ng-scrollbar-view {{viewClass}}\"\n       (cdkObserveContent)=\"update()\"\n       [cdkObserveContentDisabled]=\"autoUpdate\">\n    <ng-content></ng-content>\n  </div>\n</div>\n",
                    styles: ["ng-scrollbar{display:block;position:relative;height:100%;overflow:hidden!important}.ng-scrollbar-container{position:relative;overflow:hidden!important;width:100%;height:100%}.ng-scrollbar-autohide>.ng-scrollbar{opacity:0;transition:opacity 120ms ease-out}.ng-scrollbar-autohide:active>.ng-scrollbar,.ng-scrollbar-autohide:focus>.ng-scrollbar,.ng-scrollbar-autohide:hover>.ng-scrollbar{opacity:1;transition:opacity 340ms ease-out}.ng-scrollbar{position:absolute;right:2px;bottom:2px;z-index:1;border-radius:3px}.-vertical{width:6px;top:2px}.-vertical .ng-scrollbar-thumb{width:100%}.-horizontal{height:6px;left:2px}.-horizontal .ng-scrollbar-thumb{height:100%}.ng-scrollbar-disabled{display:none}.ng-scrollbar-thumb{position:relative;display:block;width:0;height:0;border-radius:inherit;background-color:rgba(0,0,0,.2);-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.ng-scrollbar-thumb:active,.ng-scrollbar-thumb:hover{background-color:rgba(0,0,0,.3)}.ng-scrollbar-view{width:100%;height:100%;overflow:scroll;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-overflow-scrolling:touch}"],
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    encapsulation: ViewEncapsulation.None,
                    preserveWhitespaces: false
                },] },
    ];
    /** @nocollapse */
    ScrollbarComponent.ctorParameters = function () { return [
        { type: NgZone, },
        { type: Renderer2, },
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] },] },
    ]; };
    ScrollbarComponent.propDecorators = {
        "barXRef": [{ type: ViewChild, args: ['barX',] },],
        "barYRef": [{ type: ViewChild, args: ['barY',] },],
        "thumbXRef": [{ type: ViewChild, args: ['thumbX',] },],
        "thumbYRef": [{ type: ViewChild, args: ['thumbY',] },],
        "viewRef": [{ type: ViewChild, args: ['view',] },],
        "autoUpdate": [{ type: Input },],
        "autoHide": [{ type: Input },],
        "trackX": [{ type: Input },],
        "trackY": [{ type: Input },],
        "viewClass": [{ type: Input },],
        "barClass": [{ type: Input },],
        "thumbClass": [{ type: Input },],
        "scrollState": [{ type: Output },],
    };
    return ScrollbarComponent;
}());
export { ScrollbarComponent };
function ScrollbarComponent_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    ScrollbarComponent.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    ScrollbarComponent.ctorParameters;
    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */
    ScrollbarComponent.propDecorators;
    /** @type {?} */
    ScrollbarComponent.prototype._thumbSizeY;
    /** @type {?} */
    ScrollbarComponent.prototype._thumbSizeX;
    /** @type {?} */
    ScrollbarComponent.prototype._trackTopMax;
    /** @type {?} */
    ScrollbarComponent.prototype._trackLeftMax;
    /** @type {?} */
    ScrollbarComponent.prototype._scrollLeftMax;
    /** @type {?} */
    ScrollbarComponent.prototype._scrollTopMax;
    /** @type {?} */
    ScrollbarComponent.prototype._naturalThumbSizeY;
    /** @type {?} */
    ScrollbarComponent.prototype._naturalThumbSizeX;
    /** @type {?} */
    ScrollbarComponent.prototype._currXPos;
    /** @type {?} */
    ScrollbarComponent.prototype._currYPos;
    /** @type {?} */
    ScrollbarComponent.prototype._minThumbSize;
    /** @type {?} */
    ScrollbarComponent.prototype._scrollSub$;
    /** @type {?} */
    ScrollbarComponent.prototype._barXSub$;
    /** @type {?} */
    ScrollbarComponent.prototype._barYSub$;
    /** @type {?} */
    ScrollbarComponent.prototype._thumbXSub$;
    /** @type {?} */
    ScrollbarComponent.prototype._thumbYSub$;
    /** @type {?} */
    ScrollbarComponent.prototype.barX;
    /** @type {?} */
    ScrollbarComponent.prototype.barY;
    /** @type {?} */
    ScrollbarComponent.prototype.thumbX;
    /** @type {?} */
    ScrollbarComponent.prototype.thumbY;
    /** @type {?} */
    ScrollbarComponent.prototype.view;
    /** @type {?} */
    ScrollbarComponent.prototype.barXRef;
    /** @type {?} */
    ScrollbarComponent.prototype.barYRef;
    /** @type {?} */
    ScrollbarComponent.prototype.thumbXRef;
    /** @type {?} */
    ScrollbarComponent.prototype.thumbYRef;
    /** @type {?} */
    ScrollbarComponent.prototype.viewRef;
    /** @type {?} */
    ScrollbarComponent.prototype.autoUpdate;
    /** @type {?} */
    ScrollbarComponent.prototype.autoHide;
    /** @type {?} */
    ScrollbarComponent.prototype.trackX;
    /** @type {?} */
    ScrollbarComponent.prototype.trackY;
    /** @type {?} */
    ScrollbarComponent.prototype.viewClass;
    /** @type {?} */
    ScrollbarComponent.prototype.barClass;
    /** @type {?} */
    ScrollbarComponent.prototype.thumbClass;
    /** @type {?} */
    ScrollbarComponent.prototype.scrollState;
    /** @type {?} */
    ScrollbarComponent.prototype.zone;
    /** @type {?} */
    ScrollbarComponent.prototype.renderer;
    /** @type {?} */
    ScrollbarComponent.prototype.document;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nyb2xsYmFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25neC1zY3JvbGxiYXIvIiwic291cmNlcyI6WyJsaWIvc2Nyb2xsYmFyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxNQUFNLEVBR04sS0FBSyxFQUNMLE1BQU0sRUFDTixTQUFTLEVBQ1QsdUJBQXVCLEVBQ3ZCLFlBQVksRUFDWixTQUFTLEVBQ1QsaUJBQWlCLEVBQ2pCLE1BQU0sRUFDUCxNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUFnQixTQUFTLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMxRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7O0lBa0V2Riw0QkFBb0IsSUFBWSxFQUFVLFFBQW1CLEVBQTRCO1FBQXJFLFNBQUksR0FBSixJQUFJLENBQVE7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFXO1FBQTRCLGFBQVEsR0FBUixRQUFROzJCQXRDM0UsQ0FBQzsyQkFDRCxDQUFDOzRCQUNBLENBQUM7NkJBQ0EsQ0FBQzs4QkFDQSxDQUFDOzZCQUNGLENBQUM7a0NBQ0ksQ0FBQztrQ0FDRCxDQUFDO3lCQUNWLENBQUM7eUJBQ0QsQ0FBQzs2QkFDRyxFQUFFOzBCQW1CSixJQUFJO3dCQUNOLEtBQUs7c0JBQ1AsS0FBSztzQkFDTCxJQUFJOzJCQUlFLElBQUksWUFBWSxFQUFPO0tBRzlDOzs7O0lBRUQsNENBQWU7OztJQUFmO1FBQUEsaUJBd0JDO1FBdEJDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFDMUIsS0FBSSxDQUFDLElBQUksR0FBRyxLQUFJLENB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QixTQUFTLFNBQUMsUUFBUTs4QkFDbEIsU0FBUyxTQUFDLFFBQVE7NEJBQ2xCLFNBQVMsU0FBQyxNQUFNOytCQUVoQixLQUFLOzZCQUNMLEtBQUs7MkJBQ0wsS0FBSzsyQkFDTCxLQUFLOzhCQUNMLEtBQUs7NkJBQ0wsS0FBSzsrQkFDTCxLQUFLO2dDQUNMLE1BQU07OzZCQWhGVDs7U0EwQ2Esa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsXHJcbiAgSW5qZWN0LFxyXG4gIEFmdGVyVmlld0luaXQsXHJcbiAgT25EZXN0cm95LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBWaWV3Q2hpbGQsXHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgRXZlbnRFbWl0dGVyLFxyXG4gIFJlbmRlcmVyMixcclxuICBWaWV3RW5jYXBzdWxhdGlvbixcclxuICBOZ1pvbmVcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIGZyb21FdmVudCwgb2YsIEVNUFRZIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IGRlbGF5LCBleHBhbmQsIG1hcCwgbWVyZ2VNYXAsIHRha2VVbnRpbCwgdGFrZVdoaWxlLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ25nLXNjcm9sbGJhcicsXHJcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwibmctc2Nyb2xsYmFyLWNvbnRhaW5lclwiIFtjbGFzcy5uZy1zY3JvbGxiYXItYXV0b2hpZGVdPVwiYXV0b0hpZGVcIj5cclxuXHJcbiAgPGRpdiAjYmFyWCBjbGFzcz1cIm5nLXNjcm9sbGJhciAtaG9yaXpvbnRhbCB7e2JhckNsYXNzfX1cIiBbY2xhc3Mubmctc2Nyb2xsYmFyLWRpc2FibGVkXT1cIiF0cmFja1hcIj5cclxuICAgIDxkaXYgI3RodW1iWCBjbGFzcz1cIm5nLXNjcm9sbGJhci10aHVtYiB7e3RodW1iQ2xhc3N9fVwiPjwvZGl2PlxyXG4gIDwvZGl2PlxyXG5cclxuICA8ZGl2ICNiYXJZIGNsYXNzPVwibmctc2Nyb2xsYmFyIC12ZXJ0aWNhbCB7e2JhckNsYXNzfX1cIiBbY2xhc3Mubmctc2Nyb2xsYmFyLWRpc2FibGVkXT1cIiF0cmFja1lcIj5cclxuICAgIDxkaXYgI3RodW1iWSBjbGFzcz1cIm5nLXNjcm9sbGJhci10aHVtYiB7e3RodW1iQ2xhc3N9fVwiPjwvZGl2PlxyXG4gIDwvZGl2PlxyXG5cclxuICA8ZGl2ICN2aWV3IGNsYXNzPVwibmctc2Nyb2xsYmFyLXZpZXcge3t2aWV3Q2xhc3N9fVwiXHJcbiAgICAgICAoY2RrT2JzZXJ2ZUNvbnRlbnQpPVwidXBkYXRlKClcIlxyXG4gICAgICAgW2Nka09ic2VydmVDb250ZW50RGlzYWJsZWRdPVwiYXV0b1VwZGF0ZVwiPlxyXG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuYCxcclxuICBzdHlsZXM6IFtgbmctc2Nyb2xsYmFye2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjEwMCU7b3ZlcmZsb3c6aGlkZGVuIWltcG9ydGFudH0ubmctc2Nyb2xsYmFyLWNvbnRhaW5lcntwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW4haW1wb3J0YW50O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lm5nLXNjcm9sbGJhci1hdXRvaGlkZT4ubmctc2Nyb2xsYmFye29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgMTIwbXMgZWFzZS1vdXR9Lm5nLXNjcm9sbGJhci1hdXRvaGlkZTphY3RpdmU+Lm5nLXNjcm9sbGJhciwubmctc2Nyb2xsYmFyLWF1dG9oaWRlOmZvY3VzPi5uZy1zY3JvbGxiYXIsLm5nLXNjcm9sbGJhci1hdXRvaGlkZTpob3Zlcj4ubmctc2Nyb2xsYmFye29wYWNpdHk6MTt0cmFuc2l0aW9uOm9wYWNpdHkgMzQwbXMgZWFzZS1vdXR9Lm5nLXNjcm9sbGJhcntwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoycHg7Ym90dG9tOjJweDt6LWluZGV4OjE7Ym9yZGVyLXJhZGl1czozcHh9Li12ZXJ0aWNhbHt3aWR0aDo2cHg7dG9wOjJweH0uLXZlcnRpY2FsIC5uZy1zY3JvbGxiYXItdGh1bWJ7d2lkdGg6MTAwJX0uLWhvcml6b250YWx7aGVpZ2h0OjZweDtsZWZ0OjJweH0uLWhvcml6b250YWwgLm5nLXNjcm9sbGJhci10aHVtYntoZWlnaHQ6MTAwJX0ubmctc2Nyb2xsYmFyLWRpc2FibGVke2Rpc3BsYXk6bm9uZX0ubmctc2Nyb2xsYmFyLXRodW1ie3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7d2lkdGg6MDtoZWlnaHQ6MDtib3JkZXItcmFkaXVzOmluaGVyaXQ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC4yKTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKX0ubmctc2Nyb2xsYmFyLXRodW1iOmFjdGl2ZSwubmctc2Nyb2xsYmFyLXRodW1iOmhvdmVye2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMyl9Lm5nLXNjcm9sbGJhci12aWV3e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3ZlcmZsb3c6c2Nyb2xsOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNofWBdLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2VcclxufSlcclxuZXhwb3J0IGNsYXNzIFNjcm9sbGJhckNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XHJcblxyXG4gIHByaXZhdGUgX3RodW1iU2l6ZVkgPSAwO1xyXG4gIHByaXZhdGUgX3RodW1iU2l6ZVggPSAwO1xyXG4gIHByaXZhdGUgX3RyYWNrVG9wTWF4ID0gMDtcclxuICBwcml2YXRlIF90cmFja0xlZnRNYXggPSAwO1xyXG4gIHByaXZhdGUgX3Njcm9sbExlZnRNYXggPSAwO1xyXG4gIHByaXZhdGUgX3Njcm9sbFRvcE1heCA9IDA7XHJcbiAgcHJpdmF0ZSBfbmF0dXJhbFRodW1iU2l6ZVkgPSAwO1xyXG4gIHByaXZhdGUgX25hdHVyYWxUaHVtYlNpemVYID0gMDtcclxuICBwcml2YXRlIF9jdXJyWFBvcyA9IDA7XHJcbiAgcHJpdmF0ZSBfY3VycllQb3MgPSAwO1xyXG4gIHByaXZhdGUgX21pblRodW1iU2l6ZSA9IDIwO1xyXG4gIHByaXZhdGUgX3Njcm9sbFN1YiQ6IFN1YnNjcmlwdGlvbjtcclxuICBwcml2YXRlIF9iYXJYU3ViJDogU3Vic2NyaXB0aW9uO1xyXG4gIHByaXZhdGUgX2JhcllTdWIkOiBTdWJzY3JpcHRpb247XHJcbiAgcHJpdmF0ZSBfdGh1bWJYU3ViJDogU3Vic2NyaXB0aW9uO1xyXG4gIHByaXZhdGUgX3RodW1iWVN1YiQ6IFN1YnNjcmlwdGlvbjtcclxuXHJcbiAgYmFyWDogSFRNTEVsZW1lbnQ7XHJcbiAgYmFyWTogSFRNTEVsZW1lbnQ7XHJcbiAgdGh1bWJYOiBIVE1MRWxlbWVudDtcclxuICB0aHVtYlk6IEhUTUxFbGVtZW50O1xyXG4gIHZpZXc6IEhUTUxFbGVtZW50O1xyXG5cclxuICBAVmlld0NoaWxkKCdiYXJYJykgYmFyWFJlZjtcclxuICBAVmlld0NoaWxkKCdiYXJZJykgYmFyWVJlZjtcclxuICBAVmlld0NoaWxkKCd0aHVtYlgnKSB0aHVtYlhSZWY7XHJcbiAgQFZpZXdDaGlsZCgndGh1bWJZJykgdGh1bWJZUmVmO1xyXG4gIEBWaWV3Q2hpbGQoJ3ZpZXcnKSB2aWV3UmVmO1xyXG5cclxuICBASW5wdXQoKSBhdXRvVXBkYXRlID0gdHJ1ZTtcclxuICBASW5wdXQoKSBhdXRvSGlkZSA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIHRyYWNrWCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIHRyYWNrWSA9IHRydWU7XHJcbiAgQElucHV0KCkgdmlld0NsYXNzOiBzdHJpbmc7XHJcbiAgQElucHV0KCkgYmFyQ2xhc3M6IHN0cmluZztcclxuICBASW5wdXQoKSB0aHVtYkNsYXNzOiBzdHJpbmc7XHJcbiAgQE91dHB1dCgpIHNjcm9sbFN0YXRlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgem9uZTogTmdab25lLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIsIEBJbmplY3QoRE9DVU1FTlQpIHByaXZhdGUgZG9jdW1lbnQ6IGFueSkge1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG5cclxuICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgIHRoaXMuYmFyWCA9IHRoaXMuYmFyWFJlZi5uYXRpdmVFbGVtZW50O1xyXG4gICAgICB0aGlzLmJhclkgPSB0aGlzLmJhcllSZWYubmF0aXZlRWxlbWVudDtcclxuICAgICAgdGhpcy50aHVtYlggPSB0aGlzLnRodW1iWFJlZi5uYXRpdmVFbGVtZW50O1xyXG4gICAgICB0aGlzLnRodW1iWSA9IHRoaXMudGh1bWJZUmVmLm5hdGl2ZUVsZW1lbnQ7XHJcbiAgICAgIHRoaXMudmlldyA9IHRoaXMudmlld1JlZi5uYXRpdmVFbGVtZW50O1xyXG5cclxuICAgICAgdGhpcy5oaWRlTmF0aXZlU2Nyb2xsYmFycygpO1xyXG5cclxuICAgICAgLyoqIEluaXRpYWxpemUgc2Nyb2xsYmFycyAqL1xyXG4gICAgICB0aGlzLnNjcm9sbFdvcmtlcihudWxsKTtcclxuXHJcbiAgICAgIHRoaXMuX3Njcm9sbFN1YiQgPSBmcm9tRXZlbnQodGhpcy52aWV3LCAnc2Nyb2xsJykucGlwZSh0YXAoKGUpID0+IHRoaXMuc2Nyb2xsV29ya2VyKGUpKSkuc3Vic2NyaWJlKCk7XHJcbiAgICAgIGlmICh0aGlzLnRyYWNrWCkge1xyXG4gICAgICAgIHRoaXMuX2JhclhTdWIkID0gZnJvbUV2ZW50KHRoaXMuYmFyWCwgJ21vdXNlZG93bicpLnBpcGUodGFwKChlKSA9PiB0aGlzLmJhclhXb3JrZXIoZSkpKS5zdWJzY3JpYmUoKTtcclxuICAgICAgICB0aGlzLl90aHVtYlhTdWIkID0gdGhpcy5zdGFydFRodW1iWFdvcmtlcigpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnRyYWNrWSkge1xyXG4gICAgICAgIHRoaXMuX2JhcllTdWIkID0gZnJvbUV2ZW50KHRoaXMuYmFyWSwgJ21vdXNlZG93bicpLnBpcGUodGFwKChlKSA9PiB0aGlzLmJhcllXb3JrZXIoZSkpKS5zdWJzY3JpYmUoKTtcclxuICAgICAgICB0aGlzLl90aHVtYllTdWIkID0gdGhpcy5zdGFydFRodW1iWVdvcmtlcigpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgaWYgKHRoaXMuX3Njcm9sbFN1YiQpIHtcclxuICAgICAgdGhpcy5fc2Nyb2xsU3ViJC51bnN1YnNjcmliZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMudHJhY2tYKSB7XHJcbiAgICAgIHRoaXMuX2JhclhTdWIkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgIHRoaXMuX3RodW1iWFN1YiQudW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnRyYWNrWSkge1xyXG4gICAgICB0aGlzLl9iYXJZU3ViJC51bnN1YnNjcmliZSgpO1xyXG4gICAgICB0aGlzLl90aHVtYllTdWIkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTY3JvbGwgaG9yaXpvbnRhbGx5XHJcbiAgICogQHBhcmFtIHRvXHJcbiAgICogQHBhcmFtIGR1cmF0aW9uXHJcbiAgICovXHJcbiAgc2Nyb2xsWFRvKHRvOiBudW1iZXIsIGR1cmF0aW9uPzogbnVtYmVyKSB7XHJcbiAgICBpZiAoZHVyYXRpb24pIHtcclxuICAgICAgb2YoZHVyYXRpb24pLnBpcGUoXHJcbiAgICAgICAgdGFrZVdoaWxlKCgpID0+IGR1cmF0aW9uID4gMCksXHJcbiAgICAgICAgZXhwYW5kKChkOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgIGlmIChkID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBkaWZmZXJlbmNlID0gdG8gLSB0aGlzLnZpZXcuc2Nyb2xsTGVmdDtcclxuICAgICAgICAgICAgY29uc3QgcGVyVGljayA9IGRpZmZlcmVuY2UgLyBkICogMTA7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy52aWV3LCAnc2Nyb2xsTGVmdCcsIHRoaXMudmlldy5zY3JvbGxMZWZ0ICsgcGVyVGljayk7XHJcbiAgICAgICAgICAgIHJldHVybiBvZihkIC0gMTApLnBpcGUoZGVsYXkoMTApKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uID0gZDtcclxuICAgICAgICAgICAgcmV0dXJuIEVNUFRZO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICkuc3Vic2NyaWJlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMudmlldywgJ3Njcm9sbExlZnQnLCB0byk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTY3JvbGwgdmVydGljYWxseVxyXG4gICAqIEBwYXJhbSB0b1xyXG4gICAqIEBwYXJhbSBkdXJhdGlvblxyXG4gICAqL1xyXG4gIHNjcm9sbFlUbyh0bzogbnVtYmVyLCBkdXJhdGlvbj86IG51bWJlcikge1xyXG4gICAgaWYgKGR1cmF0aW9uKSB7XHJcbiAgICAgIG9mKGR1cmF0aW9uKS5waXBlKFxyXG4gICAgICAgIHRha2VXaGlsZSgoKSA9PiBkdXJhdGlvbiA+IDApLFxyXG4gICAgICAgIGV4cGFuZCgoZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBpZiAoZCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZSA9IHRvIC0gdGhpcy52aWV3LnNjcm9sbFRvcDtcclxuICAgICAgICAgICAgY29uc3QgcGVyVGljayA9IGRpZmZlcmVuY2UgLyBkICogMTA7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy52aWV3LCAnc2Nyb2xsVG9wJywgdGhpcy52aWV3LnNjcm9sbFRvcCArIHBlclRpY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gb2YoZCAtIDEwKS5waXBlKGRlbGF5KDEwKSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkdXJhdGlvbiA9IGQ7XHJcbiAgICAgICAgICAgIHJldHVybiBFTVBUWTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICApLnN1YnNjcmliZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLnZpZXcsICdzY3JvbGxUb3AnLCB0byk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTY3JvbGwgdmlldyB0byB0b3BcclxuICAgKiBAcGFyYW0gZHVyYXRpb25cclxuICAgKi9cclxuICBzY3JvbGxUb1RvcChkdXJhdGlvbj86IG51bWJlcikge1xyXG4gICAgdGhpcy5zY3JvbGxZVG8oMCwgZHVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2Nyb2xsIHZpZXcgdG8gYm90dG9tXHJcbiAgICogQHBhcmFtIGR1cmF0aW9uXHJcbiAgICovXHJcbiAgc2Nyb2xsVG9Cb3R0b20oZHVyYXRpb24/OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc2Nyb2xsWVRvKHRoaXMudmlldy5zY3JvbGxIZWlnaHQsIGR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNjcm9sbCB2aWV3IHRvIG1heCByaWdodFxyXG4gICAqIEBwYXJhbSBkdXJhdGlvblxyXG4gICAqL1xyXG4gIHNjcm9sbFRvUmlnaHQoZHVyYXRpb24/OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc2Nyb2xsWFRvKHRoaXMudmlldy5zY3JvbGxXaWR0aCwgZHVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2Nyb2xsIHZpZXcgdG8gbWF4IGxlZnRcclxuICAgKiBAcGFyYW0gZHVyYXRpb25cclxuICAgKi9cclxuICBzY3JvbGxUb0xlZnQoZHVyYXRpb24/OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc2Nyb2xsWFRvKDAsIGR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aHVtYm5haWxzXHJcbiAgICovXHJcbiAgdXBkYXRlKCkge1xyXG4gICAgdGhpcy5zZXRUaHVtYlhQb3NpdGlvbih0aGlzLl9jdXJyWFBvcywgdGhpcy5jYWxjdWxhdGVUaHVtYlhTaXplKCkpO1xyXG4gICAgdGhpcy5zZXRUaHVtYllQb3NpdGlvbih0aGlzLl9jdXJyWVBvcywgdGhpcy5jYWxjdWxhdGVUaHVtYllTaXplKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2Nyb2xsIFdvcmtlclxyXG4gICAqIEBwYXJhbSBlIC0gTW91c2UgRXZlbnRcclxuICAgKi9cclxuICBwcml2YXRlIHNjcm9sbFdvcmtlcihlOiBhbnkpIHtcclxuICAgIHRoaXMuX3RodW1iU2l6ZVggPSB0aGlzLnRodW1iWC5jbGllbnRXaWR0aDtcclxuICAgIHRoaXMuX3RodW1iU2l6ZVkgPSB0aGlzLnRodW1iWS5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgdGhpcy5fdHJhY2tMZWZ0TWF4ID0gdGhpcy5iYXJYLmNsaWVudFdpZHRoIC0gdGhpcy5fdGh1bWJTaXplWDtcclxuICAgIHRoaXMuX3RyYWNrVG9wTWF4ID0gdGhpcy5iYXJZLmNsaWVudEhlaWdodCAtIHRoaXMuX3RodW1iU2l6ZVk7XHJcblxyXG4gICAgY29uc3QgdGh1bWJYUG9zaXRpb24gPSB0aGlzLnZpZXcuc2Nyb2xsTGVmdCAqIHRoaXMuX3RyYWNrTGVmdE1heCAvIHRoaXMuX3Njcm9sbExlZnRNYXg7XHJcbiAgICBjb25zdCB0aHVtYllQb3NpdGlvbiA9IHRoaXMudmlldy5zY3JvbGxUb3AgKiB0aGlzLl90cmFja1RvcE1heCAvIHRoaXMuX3Njcm9sbFRvcE1heDtcclxuXHJcbiAgICB0aGlzLnNldFRodW1iWFBvc2l0aW9uKHRodW1iWFBvc2l0aW9uLCB0aGlzLmNhbGN1bGF0ZVRodW1iWFNpemUoKSk7XHJcbiAgICB0aGlzLnNldFRodW1iWVBvc2l0aW9uKHRodW1iWVBvc2l0aW9uLCB0aGlzLmNhbGN1bGF0ZVRodW1iWVNpemUoKSk7XHJcblxyXG4gICAgLyoqIEVtaXQgc2Nyb2xsIHN0YXRlICovXHJcbiAgICB0aGlzLnNjcm9sbFN0YXRlLmVtaXQoZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIb3Jpem9udGFsIHNjcm9sbGJhciBjbGljayB3b3JrZXJcclxuICAgKiBAcGFyYW0gZSAtIE1vdXNlIEV2ZW50XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBiYXJYV29ya2VyKGU6IGFueSkge1xyXG4gICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gZS5vZmZzZXRYIC0gdGhpcy5fbmF0dXJhbFRodW1iU2l6ZVggKiAuNTtcclxuICAgICAgY29uc3QgdGh1bWJQb3NpdGlvblBlcmNlbnRhZ2UgPSBvZmZzZXQgKiAxMDAgLyB0aGlzLmJhclguY2xpZW50V2lkdGg7XHJcbiAgICAgIGNvbnN0IHNjcm9sbExlZnQgPSB0aHVtYlBvc2l0aW9uUGVyY2VudGFnZSAqIHRoaXMudmlldy5zY3JvbGxXaWR0aCAvIDEwMDtcclxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLnZpZXcsICdzY3JvbGxMZWZ0Jywgc2Nyb2xsTGVmdCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBWZXJ0aWNhbCBzY3JvbGxiYXIgY2xpY2sgd29ya2VyXHJcbiAgICogQHBhcmFtIGUgLSBNb3VzZSBFdmVudFxyXG4gICAqL1xyXG4gIHByaXZhdGUgYmFyWVdvcmtlcihlOiBhbnkpIHtcclxuICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgIGNvbnN0IG9mZnNldCA9IGUub2Zmc2V0WSAtIHRoaXMuX25hdHVyYWxUaHVtYlNpemVZICogLjU7XHJcbiAgICAgIGNvbnN0IHRodW1iUG9zaXRpb25QZXJjZW50YWdlID0gb2Zmc2V0ICogMTAwIC8gdGhpcy5iYXJZLmNsaWVudEhlaWdodDtcclxuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gdGh1bWJQb3NpdGlvblBlcmNlbnRhZ2UgKiB0aGlzLnZpZXcuc2Nyb2xsSGVpZ2h0IC8gMTAwO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMudmlldywgJ3Njcm9sbFRvcCcsIHNjcm9sbFRvcCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBob3Jpem9udGFsIHRodW1iIHdvcmtlclxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhcnRUaHVtYlhXb3JrZXIoKTogU3Vic2NyaXB0aW9uIHtcclxuICAgIGNvbnN0IG1vdXNlZG93biQgPSBmcm9tRXZlbnQodGhpcy50aHVtYlgsICdtb3VzZWRvd24nKTtcclxuICAgIGNvbnN0IG1vdXNldXAkID0gZnJvbUV2ZW50KHRoaXMuZG9jdW1lbnQsICdtb3VzZXVwJyk7XHJcbiAgICBjb25zdCBtb3VzZW1vdmUkID0gZnJvbUV2ZW50KHRoaXMuZG9jdW1lbnQsICdtb3VzZW1vdmUnKTtcclxuICAgIHJldHVybiBtb3VzZWRvd24kLnBpcGUoXHJcbiAgICAgIHRhcCgoKSA9PiB0aGlzLmRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgPSAoKSA9PiBmYWxzZSksXHJcbiAgICAgIG1hcCgobW91c2Vkb3duRXZlbnQ6IGFueSkgPT4gbW91c2Vkb3duRXZlbnQub2Zmc2V0WCksXHJcbiAgICAgIG1lcmdlTWFwKChtb3VzZWRvd25PZmZzZXRYOiBudW1iZXIpID0+IG1vdXNlbW92ZSQucGlwZShcclxuICAgICAgICB0YWtlVW50aWwobW91c2V1cCQucGlwZSh0YXAoKCkgPT4gdGhpcy5kb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gbnVsbCkpKSxcclxuICAgICAgICBtYXAoKG1vdXNlbW92ZUV2ZW50OiBhbnkpID0+IG1vdXNlbW92ZUV2ZW50LmNsaWVudFgpLFxyXG4gICAgICAgIHRhcCgobW91c2Vtb3ZlQ2xpZW50WDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBtb3VzZW1vdmVDbGllbnRYIC0gdGhpcy5iYXJYLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICAgICAgICBjb25zdCBzY3JvbGwgPSB0aGlzLl9zY3JvbGxMZWZ0TWF4ICogKG9mZnNldCAtIG1vdXNlZG93bk9mZnNldFgpIC8gdGhpcy5fdHJhY2tMZWZ0TWF4O1xyXG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLnZpZXcsICdzY3JvbGxMZWZ0Jywgc2Nyb2xsKTtcclxuICAgICAgICB9KVxyXG4gICAgICApKVxyXG4gICAgKS5zdWJzY3JpYmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IHZlcnRpY2FsIHRodW1iIHdvcmtlclxyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhcnRUaHVtYllXb3JrZXIoKTogU3Vic2NyaXB0aW9uIHtcclxuICAgIGNvbnN0IG1vdXNlZG93biQgPSBmcm9tRXZlbnQodGhpcy50aHVtYlksICdtb3VzZWRvd24nKTtcclxuICAgIGNvbnN0IG1vdXNldXAkID0gZnJvbUV2ZW50KHRoaXMuZG9jdW1lbnQsICdtb3VzZXVwJyk7XHJcbiAgICBjb25zdCBtb3VzZW1vdmUkID0gZnJvbUV2ZW50KHRoaXMuZG9jdW1lbnQsICdtb3VzZW1vdmUnKTtcclxuICAgIHJldHVybiBtb3VzZWRvd24kLnBpcGUoXHJcbiAgICAgIHRhcCgoKSA9PiB0aGlzLmRvY3VtZW50Lm9uc2VsZWN0c3RhcnQgPSAoKSA9PiBmYWxzZSksXHJcbiAgICAgIG1hcCgobW91c2Vkb3duRXZlbnQ6IGFueSkgPT4gbW91c2Vkb3duRXZlbnQub2Zmc2V0WSksXHJcbiAgICAgIG1lcmdlTWFwKChtb3VzZWRvd25PZmZzZXRZOiBudW1iZXIpID0+IG1vdXNlbW92ZSQucGlwZShcclxuICAgICAgICB0YWtlVW50aWwobW91c2V1cCQucGlwZSh0YXAoKCkgPT4gdGhpcy5kb2N1bWVudC5vbnNlbGVjdHN0YXJ0ID0gbnVsbCkpKSxcclxuICAgICAgICBtYXAoKG1vdXNlbW92ZUV2ZW50OiBhbnkpID0+IG1vdXNlbW92ZUV2ZW50LmNsaWVudFkpLFxyXG4gICAgICAgIHRhcCgobW91c2Vtb3ZlQ2xpZW50WTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBtb3VzZW1vdmVDbGllbnRZIC0gdGhpcy5iYXJZLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICAgIGNvbnN0IHNjcm9sbCA9IHRoaXMuX3Njcm9sbFRvcE1heCAqIChvZmZzZXQgLSBtb3VzZWRvd25PZmZzZXRZKSAvIHRoaXMuX3RyYWNrVG9wTWF4O1xyXG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLnZpZXcsICdzY3JvbGxUb3AnLCBzY3JvbGwpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICkpXHJcbiAgICApLnN1YnNjcmliZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlIFRodW1iIFggU2l6ZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgY2FsY3VsYXRlVGh1bWJYU2l6ZSgpOiBudW1iZXIge1xyXG4gICAgdGhpcy5fbmF0dXJhbFRodW1iU2l6ZVggPSB0aGlzLmJhclguY2xpZW50V2lkdGggLyB0aGlzLnZpZXcuc2Nyb2xsV2lkdGggKiB0aGlzLmJhclguY2xpZW50V2lkdGg7XHJcbiAgICB0aGlzLl9zY3JvbGxMZWZ0TWF4ID0gdGhpcy52aWV3LnNjcm9sbFdpZHRoIC0gdGhpcy52aWV3LmNsaWVudFdpZHRoO1xyXG4gICAgcmV0dXJuIHRoaXMuc2Nyb2xsQm91bmRhcmllcyh0aGlzLl9uYXR1cmFsVGh1bWJTaXplWCwgdGhpcy5fc2Nyb2xsTGVmdE1heCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGUgVGh1bWIgWSBTaXplXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjYWxjdWxhdGVUaHVtYllTaXplKCk6IG51bWJlciB7XHJcbiAgICB0aGlzLl9uYXR1cmFsVGh1bWJTaXplWSA9IHRoaXMuYmFyWS5jbGllbnRIZWlnaHQgLyB0aGlzLnZpZXcuc2Nyb2xsSGVpZ2h0ICogdGhpcy5iYXJZLmNsaWVudEhlaWdodDtcclxuICAgIHRoaXMuX3Njcm9sbFRvcE1heCA9IHRoaXMudmlldy5zY3JvbGxIZWlnaHQgLSB0aGlzLnZpZXcuY2xpZW50SGVpZ2h0O1xyXG4gICAgcmV0dXJuIHRoaXMuc2Nyb2xsQm91bmRhcmllcyh0aGlzLl9uYXR1cmFsVGh1bWJTaXplWSwgdGhpcy5fc2Nyb2xsVG9wTWF4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBzY3JvbGxiYXIgdGh1bWIgc2l6ZVxyXG4gICAqIEBwYXJhbSBuYXR1cmFsVGh1bWJTaXplXHJcbiAgICogQHBhcmFtIHNjcm9sbE1heFxyXG4gICAqL1xyXG4gIHByaXZhdGUgc2Nyb2xsQm91bmRhcmllcyhuYXR1cmFsVGh1bWJTaXplOiBudW1iZXIsIHNjcm9sbE1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAobmF0dXJhbFRodW1iU2l6ZSA8IHRoaXMuX21pblRodW1iU2l6ZSkgPyB0aGlzLl9taW5UaHVtYlNpemUgOiBzY3JvbGxNYXggPyBuYXR1cmFsVGh1bWJTaXplIDogMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBob3Jpem9udGFsIHNjcm9sbGJhciB0aHVtYiBzdHlsZVxyXG4gICAqIEBwYXJhbSB4XHJcbiAgICogQHBhcmFtIHdpZHRoXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzZXRUaHVtYlhQb3NpdGlvbih4OiBudW1iZXIsIHdpZHRoOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3h9cHgsIDAsIDApYDtcclxuICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50aHVtYlgsICd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRodW1iWCwgJ3dpZHRoJywgd2lkdGggKyAncHgnKTtcclxuICAgIHRoaXMuX2N1cnJYUG9zID0geDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB2ZXJ0aWNhbCBzY3JvbGxiYXIgdGh1bWIgc3R5bGVcclxuICAgKiBAcGFyYW0geVxyXG4gICAqIEBwYXJhbSBoZWlnaHRcclxuICAgKi9cclxuICBwcml2YXRlIHNldFRodW1iWVBvc2l0aW9uKHk6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwLCAke3l9cHgsIDApYDtcclxuICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50aHVtYlksICd0cmFuc2Zvcm0nLCB0cmFuc2Zvcm0pO1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRodW1iWSwgJ2hlaWdodCcsIGhlaWdodCArICdweCcpO1xyXG4gICAgdGhpcy5fY3VycllQb3MgPSB5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGlkZSBuYXRpdmUgc2Nyb2xsYmFyc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaGlkZU5hdGl2ZVNjcm9sbGJhcnMoKSB7XHJcbiAgICBjb25zdCBzaXplID0gYGNhbGMoMTAwJSArICR7dGhpcy5nZXROYXRpdmVTY3JvbGxiYXJXaWR0aCgpfXB4KWA7XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudmlldywgJ3dpZHRoJywgc2l6ZSk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudmlldywgJ2hlaWdodCcsIHNpemUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBuYXRpdmUgc2Nyb2xsYmFyIHdpZHRoXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXROYXRpdmVTY3JvbGxiYXJXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgIGVsZW1lbnQuc3R5bGUudG9wID0gJy05OTk5cHgnO1xyXG4gICAgZWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDBweCc7XHJcbiAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDBweCc7XHJcbiAgICBlbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XHJcbiAgICBlbGVtZW50LnN0eWxlLm1zT3ZlcmZsb3dTdHlsZSA9ICdzY3JvbGxiYXInO1xyXG4gICAgdGhpcy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gICAgY29uc3Qgc3cgPSBlbGVtZW50Lm9mZnNldFdpZHRoIC0gZWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgIHRoaXMuZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxuICAgIHJldHVybiBzdztcclxuICB9XHJcbn1cclxuIl19