{
  "version": 3,
  "file": "ngx-loading-bar-http-client.js",
  "sources": [
    "ng://@ngx-loading-bar/http-client/out/http.module.ts",
    "ng://@ngx-loading-bar/http-client/out/loading-bar.interceptor.ts"
  ],
  "sourcesContent": [
    "import { LoadingBarModule, LoadingBarService } from '@ngx-loading-bar/core';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { LoadingBarInterceptor } from './loading-bar.interceptor';\n\n@NgModule({\n  imports: [\n    HttpClientModule,\n    LoadingBarModule.forRoot(),\n  ],\n  exports: [\n    HttpClientModule,\n    LoadingBarModule,\n  ],\n  providers: [\n    { provide: HTTP_INTERCEPTORS, useClass: LoadingBarInterceptor, multi: true },\n  ],\n})\nexport class LoadingBarHttpClientModule {}\n",
    "import { LoadingBarService } from '@ngx-loading-bar/core';\nimport { Injectable } from '@angular/core';\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HttpEventType } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { finalize } from 'rxjs/operators';\n\n@Injectable()\nexport class LoadingBarInterceptor implements HttpInterceptor {\n  constructor(private loadingBar: LoadingBarService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // https://github.com/angular/angular/issues/18155\n    if (req.headers.has('ignoreLoadingBar')) {\n      return next.handle(req.clone({ headers: req.headers.delete('ignoreLoadingBar') }));\n    }\n\n    const r = next.handle(req);\n\n    let started = false;\n    const responseSubscribe = r.subscribe.bind(r);\n    r.subscribe = (...args) => {\n      this.loadingBar.start();\n      started = true;\n      return responseSubscribe(...args);\n    };\n\n    return r.pipe(\n      finalize(() => started && this.loadingBar.complete()),\n    );\n  }\n}\n"
  ],
  "names": [],
  "mappings": ";;;;;;ACAA;IAQE,+BAAoB,UAA6B;QAA7B,IAAtB,CAAA,UAAgC,GAAV,UAAU,CAAmB;KAAI;IAErD,yCAAS,GAAT,UAAU,GAAqB,EAAE,IAAiB;QAAlD,iBAmBC;QAjBC,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE;YACvC,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,CAAC;SACpF;QAED,IAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAE3B,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAM,iBAAiB,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,SAAS,GAAG;YAAC,cAAO;iBAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;gBAAP,yBAAO;;YACpB,KAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACxB,OAAO,GAAG,IAAI,CAAC;YACf,OAAO,iBAAiB,wBAAI,IAAI,GAAE;SACnC,CAAC;QAEF,OAAO,CAAC,CAAC,IAAI,CACX,QAAQ,CAAC,cAAM,OAAA,OAAO,IAAI,KAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAA,CAAC,CACtD,CAAC;KACH;;;;IAvBH,EAAA,IAAA,EAAC,UAAU,EAAX;;;IANA,EAAA,IAAA,EAAS,iBAAiB,GAA1B;;ADAA;IAAA;;;;;IAKA,EAAA,IAAA,EAAC,QAAQ,EAAT,IAAA,EAAA,CAAU;gBACR,OAAO,EAAE;oBACP,gBAAgB;oBAChB,gBAAgB,CAAC,OAAO,EAAE;iBAC3B;gBACD,OAAO,EAAE;oBACP,gBAAgB;oBAChB,gBAAgB;iBACjB;gBACD,SAAS,EAAE;oBACT,EAAE,OAAO,EAAE,iBAAiB,EAAE,QAAQ,EAAE,qBAAqB,EAAE,KAAK,EAAE,IAAI,EAAE;iBAC7E;aACF,EAAD,EAAA;;;;;"
}
